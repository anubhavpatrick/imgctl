#!/bin/bash
# ============================================================================
# imgctl Configuration File
# ============================================================================
# Copy this file to /etc/imgctl/imgctl.conf and modify as needed.
#
# Author: Anubhav Patrick <anubhav.patrick@giindia.com>
# Date: 2025-11-28
# ============================================================================

# ----------------------------------------------------------------------------
# CLUSTER CONFIGURATION
# ----------------------------------------------------------------------------

CLUSTER_NAME="dgx-cluster"

# Worker nodes - space-separated list
WORKER_NODES="k8s-worker1 k8s-worker2"

# SSH settings
SSH_USER="root"
SSH_OPTIONS="-o BatchMode=yes -o StrictHostKeyChecking=no -o ConnectTimeout=10"
SSH_KEY=""

# ----------------------------------------------------------------------------
# HARBOR REGISTRY CONFIGURATION
# ----------------------------------------------------------------------------

HARBOR_URL="https://bcm11-headnode:9443"
HARBOR_USER="testing"
HARBOR_PASSWORD="Test@123"
HARBOR_VERIFY_SSL="false"
HARBOR_PAGE_SIZE="100"

# ----------------------------------------------------------------------------
# IMAGE FILTERING
# ----------------------------------------------------------------------------

# Path to CSV file containing images to ignore
# Format: IMAGE,TAG,IMAGE ID,SIZE (header required)
# Images matching IMAGE,TAG will be excluded from node image output
IGNORE_FILE="/etc/imgctl/images_to_ignore.txt"

# Images without tags (<none>) are always filtered out automatically

# ----------------------------------------------------------------------------
# PARALLEL PROCESSING
# ----------------------------------------------------------------------------

MAX_PARALLEL_JOBS="10"

# ----------------------------------------------------------------------------
# CRICTL CONFIGURATION
# ----------------------------------------------------------------------------

CRICTL_PATH="/usr/bin/crictl"
CRICTL_TIMEOUT="30"

# ----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# ----------------------------------------------------------------------------

LOG_DIR="/var/log/giindia/imgctl"
LOG_LEVEL="INFO"
LOG_RETENTION_DAYS="30"
MAX_LOG_SIZE="104857600"  # Maximum log file size in bytes (100MB)

# ----------------------------------------------------------------------------
# OUTPUT CONFIGURATION
# ----------------------------------------------------------------------------

DEFAULT_OUTPUT_FORMAT="table"

# ----------------------------------------------------------------------------
# CACHE CONFIGURATION
# ----------------------------------------------------------------------------

ENABLE_CACHE="true"
#CACHE_DIR="/tmp/imgctl-cache"
CACHE_DIR="/var/cache/imgctl"
CACHE_TTL="300"
